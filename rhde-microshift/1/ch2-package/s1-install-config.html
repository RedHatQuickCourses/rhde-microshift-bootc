<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install and Configure MicroShift on Package-Based RHEL :: Deploying MicroShift with Image Mode for RHEL</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="s2-install-lab.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Deploying MicroShift with Image Mode for RHEL</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/rhde-microshift-bootc/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rhde-microshift" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Deploying MicroShift on Red Hat Device Edge</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ch1-microshift/index.html">Introduction to Red Hat Build of MicroShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch1-microshift/s1-microshift-vs-ocp.html">Introduction to MicroShift and Red Hat Device Edge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch1-microshift/s2-prepare-lab.html">Lab: Prepare a Test Environment for Red Hat Device Edge</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch1-microshift/s3-air-gapped-lab.html">Lab: Prepare a Test Environment for MicroShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch1-microshift/s4-summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Deploy MicroShift on RHEL Servers</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="s1-install-config.html">Install and Configure MicroShift on Package-Based RHEL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="s2-install-lab.html">Lab: Install MicroShift from RPM Packages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="s3-access-lab.html">Lab: Access MicroShift as a Developer or Platform Engineer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="s4-apps-lab.html">Lab: Deploy Kubernetes Applications in MicroShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="s5-summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../ch3-image/index.html">Deploy MicroShift on Edge Devices</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch3-image/s1-microshift-edge.html">RHEL for Edge images With MicroShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch3-image/s2-image-lab.html">Lab: Create RHEL for Edge Images with MicroShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ch3-image/s4-summary.html">Summary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Deploying MicroShift on Red Hat Device Edge</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Deploying MicroShift on Red Hat Device Edge</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../rhde-microshift-bootc/1/index.html">Deploying MicroShift on RHEL Image Mode</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../rhde-microshift-bootc/1/index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../../samples/1/index.html">samples</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../samples/1/index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../rhde-microshift-bootc/1/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Deploying MicroShift on Red Hat Device Edge</a></li>
    <li><a href="index.html">Deploy MicroShift on RHEL Servers</a></li>
    <li><a href="s1-install-config.html">Install and Configure MicroShift on Package-Based RHEL</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install and Configure MicroShift on Package-Based RHEL</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Estimated reading time: <strong>12 minutes</strong>.</em></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Objective</dt>
<dd>
<p>Install MicroShift in RHEL and configure it with basic storage, networking, and security.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_day_1_day_2_and_day_to_day_operation_of_microshift"><a class="anchor" href="#_day_1_day_2_and_day_to_day_operation_of_microshift"></a>Day 1, Day 2, and Day-to-Day Operation of MicroShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The previous chapter focused on the Red Hat build of MicroShift as a product: how it relates to Red Hat OpenShift and to upstream Kubernetes by means of which components and features are included. This chapter switches focus to using MicroShift and how it differs from using Red Hat OpenShift.</p>
</div>
<div class="paragraph">
<p>The following table highlights the differences between tools and tasks used with MicroShift and those used with Red Hat OpenShift.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Task or Tool</th>
<th class="tableblock halign-left valign-top">Red Hat Build of MicroShift</th>
<th class="tableblock halign-left valign-top">Red Hat OpenShift</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Host OS</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red Hat Enterprise Linux, any of image mode, package mode, or rpm-ostree (RHEL for Edge)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red Hat Enterprise Linux CoreOS</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Installation Method</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPM packages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift installer and variations (ex: assisted installer)</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Update Method</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPM packages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift Cluster Version Operator (CVO)</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">MicroShift configuration files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom resources of OpenShift cluster operators</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Authentication</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trusted TLS certificates or bearer tokens embedded in a kubeconfig file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local users from OpenShift OAuth or remote users from an Identity Provider</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Developer Workflow</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespaces pre-provisioned by a cluster administrator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Self-service project creation</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Graphical or Web UI</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift Web Console</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Command-Line Access</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift CLI (<code>oc</code>) or Kubernetes client (<code>kubectl</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift CLI (<code>oc</code>) or Kubernetes client (<code>kubectl</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Once you have a MicroShift cluster ready for work, deploying and managing Kubernetes applications is similar to doing so with Red Hat OpenShift and other Kubernetes: You create and change application resources such as deployments, secrets, and services. Container images and Kubernetes manifests from applications which work on Red Hat OpenShift are expected to work unchanged on MicroShift, as long as they do not require custom resources from add-on operators that are not available on their MicroShift instances.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_use_microshift_with_package_based_rhel_and_rhel_package_mode"><a class="anchor" href="#_why_use_microshift_with_package_based_rhel_and_rhel_package_mode"></a>Why Use MicroShift with Package-Based RHEL and RHEL package mode?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat recommends that production deployments of MicroShift use either RHEL for Edge images or RHEL image mode. Both would include MicroShift and (optionally) applications already preinstalled and preconfigured on system images. So why is this course covering how to deploy MicroShift using traditional RHEL, as a package-based operating system, in RHEL package mode? There are two reasons:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>It&#8217;s easier to learn the configuration of MicroShift in a package-based system, where you can quickly perform and test individual configurations, instead of having it all done at once, as part of an Image Builder blueprint and having the overhead of running new Image Builder composes every time your configuration changes; or all at once, as part of a Container file and having the overhead of building and deploying a bootc container.</p>
</li>
<li>
<p>Developer testing, and sometimes integration testing (from a CI/CD pipeline), could be quicker and easier with a preconfigured package-based system than from building a new edge image or bootc image and booting a new system or VM from them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This course uses package-based RHEL, also known as RHEL package mode, so you can practice the skills required to configure and troubleshoot MicroShift instances, and later be confident when managing MicroShift as part of Red Hat Device Edge images, be they ostree or bootc images.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_microshift_installation"><a class="anchor" href="#_microshift_installation"></a>MicroShift Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Installing and configuring MicroShift uses tools familiar to RHEL system administrators: shell commands and text files. The experience of running MicroShift should be similar to running any other system service on RHEL.</p>
</div>
<div class="sect2">
<h3 id="_before_you_install_microshift"><a class="anchor" href="#_before_you_install_microshift"></a>Before You Install MicroShift</h3>
<div class="paragraph">
<p>Keep SELinux, Firewalld, and Network Manager enabled. The more you diverge from RHEL defaults, the harder it might be to get MicroShift up and running. MicroShift is designed to integrate with other RHEL system services.</p>
</div>
<div class="paragraph">
<p>The majority of MicroShift instances require logical volume management (LVM) to back persistent storage for Kubernetes persistent volumes. You need a volume group (VG) named <code>rhel</code> with sufficient empty space for MicroShift to create logical volumes (LVs) for each of your application&#8217;s persistent volumes.</p>
</div>
<div class="paragraph">
<p>Unlike Red Hat OpenShift, MicroShift does <em>not</em> place special network requirements on its host. Because it is a single-node cluster, there are no requirements for virtual IP addresses for load balancers to access the Kubernetes API and router pods. MicroShift listens on Transmission Control Protocol (TCP) and User Datagram Protocol (UDP) ports on all network interfaces available to its host, and the set of interfaces or IP addresses can be constrained by editing the MicroShift configuration files.</p>
</div>
<div class="paragraph">
<p>If your main work machine runs RHEL, you could install and configure MicroShift on it; however, because your work machine likely runs a variety of other system services, Red Hat recommends that you install MicroShift in a dedicated VM or remote system. Local unprivileged session VMs from Libvirt  should work well, and also other desktop hypervisors.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_and_configure_microshift"><a class="anchor" href="#_install_and_configure_microshift"></a>Install and Configure MicroShift</h3>
<div class="paragraph">
<p>To install MicroShift, you need two RPM repositories:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>rhocp-4.17-for-rhel-9-x86_64-rpms</code></dt>
<dd>
<p>Red Hat OpenShift Container Platform 4.17</p>
</dd>
<dt class="hdlist1"><code>fast-datapath-for-rhel-9-x86_64-rpms</code></dt>
<dd>
<p>RHEL 9 Fast Data Path</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Change the names of the two previously mentioned repositories to align with the RHEL release you are using and the CPU architecture of your target system.  The first respository provides the MicroShift RPM packages, which are built together with each release of Red Hat OpenShift. The second repository provides Open Virtual Network (OVN) packages, which are required by MicroShift&#8217;s CNI driver for managing Kubernetes pod and service networks.</p>
</div>
<div class="paragraph">
<p>The <code>microshift</code> RPM package pulls, as dependencies, all required components of MicroShift. A few optional components can be installed as additional RPM packages.</p>
</div>
<div class="paragraph">
<p>You also need a pull secret, which provides access to container images from Red Hat container registries and Quay.io. It can be an OpenShift installation pull secret from a Red Hat Customer Portal account or from a Red Hat Developer account. The Red Hat Developer Program provides free access to RHEL installation media, RHEL package repositories, and selected Red Hat software, such as Red Hat OpenShift.</p>
</div>
<div class="paragraph">
<p>You shouldn&#8217;t need to make edits to any of the MicroShift configuration files; they have reasonable defaults for starting a MicroShift instance connected to the internet.</p>
</div>
</div>
<div class="sect2">
<h3 id="_install_microshift_in_air_gapped_evironments"><a class="anchor" href="#_install_microshift_in_air_gapped_evironments"></a>Install MicroShift in Air-Gapped Evironments</h3>
<div class="paragraph">
<p>If you perform an air-gapped installation of MicroShift, you need a mirror of the Red Hat OpenShift and RHEL 9 Fast Data Path package repositories, in addition to the standard RHEL BaseOS and AppStream repositories, which you need to satisfy package dependencies.</p>
</div>
<div class="paragraph">
<p>You also need a mirror container registry pre-populated with the container images required by MicroShift and add-on operators that you install, besides a pull secret configured for that mirror registry. The pull secret is just a container tools authentication file, which you can create using the <code>podman login</code> command.</p>
</div>
<div class="paragraph">
<p>You could use, as installation source for an air-gapped installation, any software capable of serving DNF repositories, such as Red Hat Satellite, in addition to any Open Container Initiative (OCI)-compliant container registry server, such as Red Hat Quay.</p>
</div>
<div class="paragraph">
<p>If you deploy MicroShift air-gapped, you also need to provide CRI-O an image policy configuration file, which redirects access to MicroShift images from the Red Hat registries and Quay.io to your mirror registry.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_access_microshift_with_administrator_rights"><a class="anchor" href="#_access_microshift_with_administrator_rights"></a>Access MicroShift with Administrator Rights</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you start MicroShift, it generates kubeconfig files in the <code>/var/lib/microshift/resources/kubeadmin/</code> directory. These kubeconfig files already embed the public key of the internal certificate authority (CA) of the cluster, so you can access your MicroShift instance with TLS certificate validation. One file matches the <code>localhost</code> host name and IP address. Other files match the hostname configured on the machine and additional alternate names set in the MicroShift configuration files.</p>
</div>
<div class="paragraph">
<p>You could copy the kubeconfig file for the public hostname of your MicroShift instance to any computer and open the Kubernetes API port on the system firewall, and then access MicroShift remotely with full cluster administrator rights. Red Hat recommends that you store that kubeconfig file in a secure location, for emergency usage, and refrain from using it for day-to-day access to MicroShift.</p>
</div>
<div class="paragraph">
<p>For the team responsible for managing MicroShift instances, Red Hat recommends that you:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create an individual kubeconfig file for each team member, so each file has a unique unprivileged identity.</p>
</li>
<li>
<p>Grant each of these identities Kubernetes impersonation rights to perform cluster administration tasks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By taking this approach, you can audit which user performed which action. This is similar to requiring RHEL system administrators to use their own user accounts and <code>sudo</code> for performing system administration tasks. Following this recommendation means treating MicroShift cluster administrators as regular users, similar to developers, who also get rights to escalate their privileges.</p>
</div>
<div class="paragraph">
<p>Kubeconfig files can store user credentials and CA certificates for multiple different clusters in a single file; however, you may find it easier to keep multiple Kubeconfig files, one for each MicroShift instance or Red Hat OpenShift cluster, and alternate between files using the <code>--kubeconfig</code> option or the <code>KUBECONFIG</code> environment variable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_access_microshift_with_developer_rights"><a class="anchor" href="#_access_microshift_with_developer_rights"></a>Access MicroShift with Developer Rights</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developers used to Red Hat OpenShift will likely perceive significant differences in their regular workflows when working with MicroShift because it lacks certain components of OpenShift, such as the OpenShift OAuth server, and also lacks some extension APIs, such as Templates and Projects.</p>
</div>
<div class="sect2">
<h3 id="_use_the_openshift_cli_with_microshift"><a class="anchor" href="#_use_the_openshift_cli_with_microshift"></a>Use the OpenShift CLI with MicroShift</h3>
<div class="paragraph">
<p>MicroShift lacks a graphical web console, which means you need to use the OpenShift CLI. In addition, a number of OpenShift CLI commands do not work with MicroShift instances, for example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>oc login</code></p>
</li>
<li>
<p><code>oc new-project</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, avoid <code>oc</code> commands that require other OpenShift extension APIs missing in MicroShift, such as Image Streams and Build Configs.</p>
</div>
<div class="paragraph">
<p>Despite the missing extension APIs, the OpenShift CLI still provides a number of niceties for MicroShift users compared with the Kubernetes client, and Red Hat recommends using the <code>oc</code> command with MicroShift. If you prefer not using these niceties, the standard <code>kubectl</code> command is also supported for MicroShift, as well as for all editions of Red Hat OpenShift.</p>
</div>
</div>
<div class="sect2">
<h3 id="_store_credentials_in_kubeconfig_files"><a class="anchor" href="#_store_credentials_in_kubeconfig_files"></a>Store Credentials in Kubeconfig Files</h3>
<div class="paragraph">
<p>Developers require that cluster administrators provide them with kubeconfig files pre-configured with identities that grant only limited privileges on selected namespaces, for day-to-day usage.</p>
</div>
<div class="paragraph">
<p>Those unprivileged identities could be configured for any of authentication mechanisms supported by upstream Kubernetes, the most common being:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>TLS client certificates</p>
</li>
<li>
<p>Service account tokens</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Red Hat recommends the second because Kubernetes does not include management of certificate revocation lists. That means you cannot revoke authorization from a client certificate that leaks to unauthorized users, but you can delete a service account resource to invalidate its token.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The autogenerated kubeconfig files for cluster administration use client certificates, so handle them with care, and do not share them. If you need to revoke such certificates, you need to refresh the internal Kubernetes CA of its MicroShift instance, which invalidates all client certificates for that instance.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_use_namespaces_instead_of_projects"><a class="anchor" href="#_use_namespaces_instead_of_projects"></a>Use Namespaces Instead of Projects</h3>
<div class="paragraph">
<p>MicroShift is <em>not</em> an application platform; it is merely a Kubernetes engine. It does <em>not</em> provide self-service project creation. Instead, it requires that cluster administrators create and configure namespaces for regular users and grant those users with rights to deploy applications in their namespaces.</p>
</div>
<div class="paragraph">
<p>MicroShift cluster administrators use standard Kubernetes Role-Based Access Control (RBAC) APIs to grant rights to one or more namespaces. You could use the standard <code>admin</code>, <code>edit</code>, and <code>view</code> cluster roles from Kubernetes, or you could create your own custom cluster roles and namespace roles.</p>
</div>
<div class="paragraph">
<p>Most developers only need the <code>edit</code> cluster role, which grants permission to manage common application resources, such as deployments and persistent volume claims.</p>
</div>
<div class="paragraph">
<p>Selected users, such as project administrators and team leaders, may be granted the <code>admin</code> cluster roles, which includes rights to manage policy resources, such as resource quotas and network policies.</p>
</div>
</div>
<div class="sect2">
<h3 id="_namespaces_and_contexts"><a class="anchor" href="#_namespaces_and_contexts"></a>Namespaces and Contexts</h3>
<div class="paragraph">
<p>The <code>oc project</code> command works with MicroShift because it does not use the Project API; it just sets or queries context information stored in a kubeconfig file. Most other <code>oc</code> commands related to projects, however,  will fail on MicroShift.</p>
</div>
<div class="paragraph">
<p>As a reminder, you can use the <code>-n</code> or <code>--namespace</code> option with most <code>oc</code> and <code>kubectl</code> commands to act on a namespace other than the one set by the current context in the kubeconfig file. Or you can change the current context in your kibneconfig file by using either the <code>oc project</code> command or the <code>kubectl config set-context --current --namespace</code> command.</p>
</div>
<div class="paragraph">
<p>Because there&#8217;s no Projects API, you cannot list the namespaces to which you have access; you must know their names in advance, like with upstream Kubernetes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_templates_kustomize_and_helm_charts"><a class="anchor" href="#_templates_kustomize_and_helm_charts"></a>Templates, Kustomize, and Helm Charts</h3>
<div class="paragraph">
<p>OpenShift developers may be used to templates, especially the quick start app templates managed by the OpenShift Samples operator; however, those templates are not available with MicroShift.</p>
</div>
<div class="paragraph">
<p>Templates are useful because they configure applications and common middleware services with recommended settings such as health probes and resource requests.</p>
</div>
<div class="paragraph">
<p>If you wish, you can use templates with MicroShift, despite the lack of server-side support, if you have you templates stored as local YAML files and use the <code>oc process</code> command.</p>
</div>
<div class="paragraph">
<p>Most developers will likely avoid OpenShift templates use regular YAML manifests, with or without Kustomize overlays, or Helm charts, as they would do with upstream Kubernetes.</p>
</div>
<div class="paragraph">
<p>Kustomize support is included in the <code>oc</code> command, as is everything else from the standard <code>kubectl</code> command, and the <code>helm</code> command works with MicroShift as it would with any other Kubernetes cluster.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_whats_next"><a class="anchor" href="#_whats_next"></a>What&#8217;s Next</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you know what&#8217;s required to install, configure, and access MicroShift clusters, there&#8217;s a sequence of activities for you to perform which inclcude installing MicroShift, checking that it&#8217;s healthy, configuring access for developers, and deploying simple test applications to verify storage and networking resources of a MicroShift instance.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">Deploy MicroShift on RHEL Servers</a></span>
  <span class="next"><a href="s2-install-lab.html">Lab: Install MicroShift from RPM Packages</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
